var MileniaTabbedGrid=function(e){function c(a,d){this.$element=a;this.config=e.extend(!0,{},h,d);Object.defineProperties(this,{containerClass:{get:function(){return this.config.cssPrefix+this.config.classMap.container}},itemClass:{get:function(){return this.config.cssPrefix+this.config.classMap.item}},activeItemClass:{get:function(){return this.config.cssPrefix+this.config.classMap.active}},loadingClass:{get:function(){return this.config.cssPrefix+this.config.classMap.loading}},$items:{get:function(){return this.$element.find("."+
this.itemClass)}}});this._prepare().show(this.config.startAt,!0)}var g=e(),f,h={cssPrefix:"",startAt:0,easing:"linear",duration:400,classMap:{container:"grid",item:"grid-item",active:"grid-item--current",loading:"grid--tabbed-loading"}};e(window).on("resize.TabbedGrid",function(){f&&clearTimeout(f);f=setTimeout(function(){g.each(function(a,d){e(d).data("TabbedGrid").resize()})},300)});c.prototype._prepare=function(){this.$element.css("position","relative");this.$items.css({overflow:"hidden",position:"absolute",
top:0,right:0,left:0});return this};c.prototype.getCurrentItemIndex=function(){return this.$items.length?this.$items.filter("."+this.activeItemClass).index():0};c.prototype.show=function(a,d){var b=this.$items,c=this;this._hideItems(b.not(b.eq(a)));b.eq(a).length?this._showItem(b.eq(a),d):this.$element.stop().animate({height:0},{easing:c.config.easing,duration:c.config.duration,complete:function(){d&&c.$element.removeClass(c.loadingClass)}})};c.prototype._hideItems=function(a){a.removeClass(this.activeItemClass).css("z-index",
1).stop().animate({opacity:0},{easing:this.config.easing,duration:this.config.duration});return this};c.prototype._showItem=function(a,c){var b=this;this.$element.stop().animate({height:a.outerHeight()},{easing:b.config.easing,duration:b.config.duration,complete:function(){c&&b.$element.removeClass(b.loadingClass);a.addClass(b.activeItemClass).stop().css("z-index",2).animate({opacity:1},{easing:b.config.easing,duration:b.config.duration,complete:function(){b.$element.trigger("item.shown.tabbedgrid",
[b.$element])}})}});return this};c.prototype.resize=function(){var a=this;this.$element.stop().animate({height:a.$items.filter("."+a.activeItemClass).outerHeight()},{easing:a.config.easing,duration:a.config.duration,complete:function(){a.$element.removeClass(a.loadingClass);a.$element.trigger("grid.resized.tabbedgrid",[a.$element])}});return this};return{init:function(a,d){d=d||{};return a.each(function(a,f){var b=e(f);b.data("TabbedGrid")||(b.data("TabbedGrid",new c(b,d)),g=g.add(b))})}}}(window.jQuery);
